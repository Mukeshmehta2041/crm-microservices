# SonarQube Configuration for CRM Platform

# Project identification
sonar.projectKey=crm-microservices-platform
sonar.projectName=CRM Microservices Platform
sonar.projectVersion=1.0.0-SNAPSHOT

# Source code configuration
sonar.sources=src/main/java
sonar.tests=src/test/java
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# Language configuration
sonar.language=java
sonar.java.source=17

# Encoding
sonar.sourceEncoding=UTF-8

# Coverage configuration
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
sonar.junit.reportPaths=target/surefire-reports

# Quality gate configuration
sonar.qualitygate.wait=true

# Code coverage thresholds
sonar.coverage.exclusions=**/*Application.java,**/*Config.java,**/*Configuration.java,**/dto/**,**/entity/**

# Duplication exclusions
sonar.cpd.exclusions=**/*Test.java,**/*IT.java,**/dto/**,**/entity/**

# Issue exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Exclude utility classes from having public constructor
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1118
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Util.java

# Exclude test classes from certain rules
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S2699
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*Test.java

# Exclude Spring Boot application classes from certain rules
sonar.issue.ignore.multicriteria.e3.ruleKey=java:S1118
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*Application.java

# Exclude DTOs from certain rules
sonar.issue.ignore.multicriteria.e4.ruleKey=java:S1068
sonar.issue.ignore.multicriteria.e4.resourceKey=**/dto/**

# Exclude entities from certain rules
sonar.issue.ignore.multicriteria.e5.ruleKey=java:S1068
sonar.issue.ignore.multicriteria.e5.resourceKey=**/entity/**

# Security hotspot exclusions for test files
sonar.security.hotspots.exclude=**/*Test.java,**/*IT.java

# Analysis parameters
sonar.analysis.mode=publish
sonar.buildString=Maven Build

# Plugin configuration
sonar.java.checkstyle.reportPaths=target/checkstyle-result.xml
sonar.java.pmd.reportPaths=target/pmd.xml
sonar.java.spotbugs.reportPaths=target/spotbugsXml.xml